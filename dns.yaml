openapi: 3.0.0
info:
    title: DNS API
    version: 1.0.0
servers:
    - url: https://rest.websupport.sk/v1
paths:
    /user/{userId}/zone:
        get:
            summary: List of all zones
            description: Retrieves a list of all zones.
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
                      description: User ID or "self" for currently logged user
                - name: page
                  in: query
                  schema:
                      type: integer
                      description: Page number
                - name: pagesize
                  in: query
                  schema:
                      type: integer
                      description: Number of items per page
            responses:
                "200":
                    description: Success
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    items:
                                        type: array
                                        items:
                                            type: object
                                            properties:
                                                id:
                                                    type: integer
                                                    description: Zone ID
                                                name:
                                                    type: string
                                                    description: Zone name
                                    pager:
                                        type: object
                                        properties:
                                            page:
                                                type: integer
                                                description: Current page number
                                            pagesize:
                                                type: integer
                                                description: Number of items per page
                                            items:
                                                type: integer
                                                description: Total number of items
    /user/{userId}/zone/{domainName}:
        get:
            summary: Get a zone detail
            description: Retrieves the details of a specific zone by its domain name.
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
                      description: User ID or "self" for currently logged user
                - name: domainName
                  in: path
                  required: true
                  schema:
                      type: string
                      description: Domain name of the zone
            responses:
                "200":
                    description: Success
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: integer
                                        description: Zone ID
                                    name:
                                        type: string
                                        description: Zone name
                                    updateTime:
                                        type: integer
                                        description: Timestamp of last update
                "404":
                    description: Zone not found
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    code:
                                        type: integer
                                        description: Error code
                                    message:
                                        type: string
                                        description: Error message
    /user/{userId}/zone/{domainName}/record:
        get:
            summary: List all records
            description: Retrieves a list of all records for a specific zone.
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
                      description: User ID or "self" for currently logged user
                - name: domainName
                  in: path
                  required: true
                  schema:
                      type: string
                      description: Domain name of the zone
                - name: page
                  in: query
                  required: false
                  schema:
                      type: integer
                      description: Page number for pagination
                - name: pagesize
                  in: query
                  required: false
                  schema:
                      type: integer
                      description: Number of items per page for pagination
            responses:
                "200":
                    description: Success
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    items:
                                        type: array
                                        items:
                                            type: object
                                            properties:
                                                id:
                                                    type: integer
                                                    description: Record ID
                                                type:
                                                    type: string
                                                    description: Record type
                                                name:
                                                    type: string
                                                    description: Record name
                                                content:
                                                    type: string
                                                    description: Record content
                                                ttl:
                                                    type: integer
                                                    description: Time to live in seconds
                                                prio:
                                                    type: integer
                                                    description: Record priority (only for certain types)
                                                weight:
                                                    type: integer
                                                    description: Record weight (only for certain types)
                                                port:
                                                    type: integer
                                                    description: Record port (only for certain types)
                                    pager:
                                        type: object
                                        properties:
                                            page:
                                                type: integer
                                                description: Current page number
                                            pagesize:
                                                type: integer
                                                description: Number of items per page
                                            items:
                                                type: integer
                                                description: Total number of items
                "404":
                    description: Zone not found
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    code:
                                        type: integer
                                        description: Error code
                                    message:
                                        type: string
                                        description: Error message
        post:
            summary: Create a new record
            description: Creates a new DNS record for a specific domain name and zone.
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
                      description: User ID or "self" for currently logged user
                - name: domainName
                  in: path
                  required: true
                  schema:
                      type: string
                      description: Domain name of the zone
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                type:
                                    type: string
                                    enum:
                                        [
                                            A,
                                            AAAA,
                                            MX,
                                            ANAME,
                                            CNAME,
                                            NS,
                                            TXT,
                                            SRV,
                                        ]
                                    description: Type of the record
                                name:
                                    type: string
                                    description: Subdomain name or "@" if no subdomain is required
                                content:
                                    type: string
                                    description: Record content (e.g., IP address, domain name)
                                ttl:
                                    type: integer
                                    default: 600
                                    description: "Time to live in seconds (optional, default: 600)"
                                prio:
                                    type: integer
                                    description: Record priority (required for MX and SRV records)
                                port:
                                    type: integer
                                    description: TCP or UDP port (required for SRV records)
                                weight:
                                    type: integer
                                    description: Relative weight for records with the same priority (required for SRV records)
            responses:
                "201":
                    description: Success
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Status of the operation (success or error)
                                    item:
                                        type: object
                                        properties:
                                            id:
                                                type: integer
                                                description: Record ID
                                            type:
                                                type: string
                                                description: Record type
                                            name:
                                                type: string
                                                description: Record name
                                            content:
                                                type: string
                                                description: Record content
                                            ttl:
                                                type: integer
                                                description: Time to live in seconds
                                            prio:
                                                type: integer
                                                description: Record priority (only for certain types)
                                            weight:
                                                type: integer
                                                description: Record weight (only for certain types)
                                            port:
                                                type: integer
                                                description: Record port (only for certain types)
                                            zone:
                                                type: object
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: Zone ID
                                                    name:
                                                        type: string
                                                        description: Zone name
                                                    updateTime:
                                                        type: integer
                                                        description: Zone update time
                                    errors:
                                        type: object
                                        properties:
                                            content:
                                                type: array
                                                items:
                                                    type: string
                                                    description: Content validation error messages
                                            name:
                                                type: array
                                                items:
                                                    type: string
                                                    description: Name validation error messages
                "400":
                    description: Validation error
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Status of the operation (success or error)
                                    item:
                                        type: object
                                        properties:
                                            id:
                                                type: string
                                                nullable: true
                                                description: Null value for failed record creation
                                            type:
                                                type: string
                                                description: Record type
                                            name:
                                                type: string
                                                description: Record name
                                            content:
                                                type: string
                                                description: Record content
                                            ttl:
                                                type: integer
                                                description: Time to live in seconds
                                            prio:
                                                type: integer
                                                description: Record priority (only for certain types)
                                            weight:
                                                type: integer
                                                description: Record weight (only for certain types)
                                            port:
                                                type: integer
                                                description: Record port (only for certain types)
                                            zone:
                                                type: object
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: Zone ID
                                                    name:
                                                        type: string
                                                        description: Zone name
                                                    updateTime:
                                                        type: integer
                                                        description: Zone update time
                                    errors:
                                        type: object
                                        properties:
                                            content:
                                                type: array
                                                items:
                                                    type: string
                                                    description: Content validation error messages
                                            name:
                                                type: array
                                                items:
                                                    type: string
                                                    description: Name validation error messages
                "404":
                    description: Zone not found
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    code:
                                        type: integer
                                        description: Error code
                                    message:
                                        type: string
                                        description: Error message
    /user/{userId}/zone/{domainName}/record/{recordId}:
        get:
            summary: Get a record
            description: Retrieves a specific record by its domain name and record ID.
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
                      description: User ID or "self" for currently logged user
                - name: domainName
                  in: path
                  required: true
                  schema:
                      type: string
                      description: Domain name of the zone
                - name: recordId
                  in: path
                  required: true
                  schema:
                      type: integer
                      description: Record ID
            responses:
                "200":
                    description: Success
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: integer
                                        description: Record ID
                                    type:
                                        type: string
                                        description: Record type
                                    name:
                                        type: string
                                        description: Record name
                                    content:
                                        type: string
                                        description: Record content
                                    ttl:
                                        type: integer
                                        description: Time to live in seconds
                                    prio:
                                        type: integer
                                        description: Record priority (only for certain types)
                                    weight:
                                        type: integer
                                        description: Record weight (only for certain types)
                                    port:
                                        type: integer
                                        description: Record port (only for certain types)
                                    zone:
                                        type: object
                                        properties:
                                            id:
                                                type: integer
                                                description: Zone ID
                                            name:
                                                type: string
                                                description: Zone name
                                            updateTime:
                                                type: integer
                                                description: Zone update time
                "404":
                    description: Record not found
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    code:
                                        type: integer
                                        description: Error code
                                    message:
                                        type: string
                                        description: Error message
        put:
            summary: Update a record
            description: Updates an existing DNS record for a specific domain name, zone, and record ID.
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
                      description: User ID or "self" for currently logged user
                - name: domainName
                  in: path
                  required: true
                  schema:
                      type: string
                      description: Domain name of the zone
                - name: recordId
                  in: path
                  required: true
                  schema:
                      type: integer
                      description: ID of the record to update
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                name:
                                    type: string
                                    description: Subdomain name or "@" if no subdomain is required
                                content:
                                    type: string
                                    description: Record content (e.g., IP address, domain name)
                                ttl:
                                    type: integer
                                    description: Time to live in seconds (optional)
            responses:
                "200":
                    description: Success
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Status of the operation (success or error)
                                    item:
                                        type: object
                                        properties:
                                            id:
                                                type: integer
                                                description: Record ID
                                            type:
                                                type: string
                                                description: Record type
                                            name:
                                                type: string
                                                description: Record name
                                            content:
                                                type: string
                                                description: Record content
                                            ttl:
                                                type: integer
                                                description: Time to live in seconds
                                            prio:
                                                type: integer
                                                description: Record priority (only for certain types)
                                            weight:
                                                type: integer
                                                description: Record weight (only for certain types)
                                            port:
                                                type: integer
                                                description: Record port (only for certain types)
                                            zone:
                                                type: object
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: Zone ID
                                                    name:
                                                        type: string
                                                        description: Zone name
                                                    updateTime:
                                                        type: integer
                                                        description: Zone update time
                                    errors:
                                        type: object
                                        properties:
                                            content:
                                                type: array
                                                items:
                                                    type: string
                                                    description: Content validation error messages
                                            name:
                                                type: array
                                                items:
                                                    type: string
                                                    description: Name validation error messages
                "400":
                    description: Validation error
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Status of the operation (success or error)
                                    item:
                                        type: object
                                        properties:
                                            id:
                                                type: string
                                                nullable: true
                                                description: Null value for failed record update
                                            type:
                                                type: string
                                                description: Record type
                                            name:
                                                type: string
                                                description: Record name
                                            content:
                                                type: string
                                                description: Record content
                                            ttl:
                                                type: integer
                                                description: Time to live in seconds
                                            prio:
                                                type: integer
                                                description: Record priority (only for certain types)
                                            weight:
                                                type: integer
                                                description: Record weight (only for certain types)
                                            port:
                                                type: integer
                                                description: Record port (only for certain types)
                                            zone:
                                                type: object
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: Zone ID
                                                    name:
                                                        type: string
                                                        description: Zone name
                                                    updateTime:
                                                        type: integer
                                                        description: Zone update time
                                    errors:
                                        type: object
                                        properties:
                                            content:
                                                type: array
                                                items:
                                                    type: string
                                                    description: Content validation error messages
                                            name:
                                                type: array
                                                items:
                                                    type: string
                                                    description: Name validation error messages
                "404":
                    description: Zone not found
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    code:
                                        type: integer
                                        description: Error code
                                    message:
                                        type: string
                                        description: Error message
        delete:
            summary: Delete a record
            description: Deletes an existing DNS record for a specific domain name, zone, and record ID.
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
                      description: User ID or "self" for currently logged user
                - name: domainName
                  in: path
                  required: true
                  schema:
                      type: string
                      description: Domain name of the zone
                - name: recordId
                  in: path
                  required: true
                  schema:
                      type: integer
                      description: ID of the record to delete
            responses:
                "200":
                    description: Success
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Status of the operation (success or error)
                                    item:
                                        type: object
                                        properties:
                                            id:
                                                type: integer
                                                description: Record ID
                                            type:
                                                type: string
                                                description: Record type
                                            name:
                                                type: string
                                                description: Record name
                                            content:
                                                type: string
                                                description: Record content
                                            ttl:
                                                type: integer
                                                description: Time to live in seconds
                                            prio:
                                                type: integer
                                                description: Record priority (only for certain types)
                                            weight:
                                                type: integer
                                                description: Record weight (only for certain types)
                                            port:
                                                type: integer
                                                description: Record port (only for certain types)
                                            zone:
                                                type: object
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: Zone ID
                                                    name:
                                                        type: string
                                                        description: Zone name
                                                    updateTime:
                                                        type: integer
                                                        description: Zone update time
                                    errors:
                                        type: array
                                        items:
                                            type: string
                                        description: Error messages
                "404":
                    description: Record not found
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    code:
                                        type: integer
                                        description: Error code
                                    message:
                                        type: string
                                        description: Error message
        